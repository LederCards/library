<ion-header>
  <app-topbar [searchOnEnter]="true"></app-topbar>
</ion-header>

<header class="print-only print-header">
  {{ faqProductName() }} FAQ
</header>

<ion-content>
  <div class="page-container printable">

    @if(currentFAQ(); as faq) {
    <ion-grid>

      <ion-row>
        <ion-col>
          <ion-list>
            @for(entry of faq; track $index) {
            <ion-item-group>
              <ion-item-divider>
                <ion-label>{{ entry.card }}</ion-label>
              </ion-item-divider>

              @for(faqEntry of entry.faq; track $index) {
              <ion-item>
                <ion-label text-wrap class="print-only">
                  <h3 [innerText]="'Q: ' + (faqEntry.q | faq)"></h3>
                  <p [innerText]="'A: ' + (faqEntry.a | faq)"></p>
                </ion-label>

                <ion-label text-wrap class="print-hide">
                  <h3 [innerHTML]="'Q: ' + (faqEntry.q | faq:productId())"></h3>
                  <p [innerHTML]="'A: ' + (faqEntry.a | faq:productId())"></p>
                </ion-label>
              </ion-item>
              }
            </ion-item-group>
            }
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
    }

    @else {
    <ion-grid>
      <ion-row>
        @for(faq of faqs(); track $index) {
        <ion-col size-lg="3" size-md="4" size-sm="6" size-xs="12">
          <ion-card class="faq-tile" (click)="loadFAQ(faq)">
            <ion-card-header>
              <ion-card-title>{{ metaService.getProductNameByProductId(faq.productId) }}</ion-card-title>
            </ion-card-header>

            <ion-card-content>
              {{ faq.faq.length | number }} FAQs
            </ion-card-content>
          </ion-card>
        </ion-col>
        }
      </ion-row>
    </ion-grid>
    }
  </div>

  <app-below-the-fold></app-below-the-fold>
</ion-content>

<!--
<div class="print-only">

  <div class="print-content">
    @if(currentFAQ(); as faq) {
    <ion-list>
      @for(entry of faq; track $index) {
      <ion-item-group>
        <ion-item-divider>
          <ion-label>{{ entry.card }}</ion-label>
        </ion-item-divider>

        @for(faqEntry of entry.faq; track $index) {
        <ion-item>
          <ion-label text-wrap>
            <h3 [innerText]="'Q: ' + (faqEntry.q | faq)"></h3>
            <p [innerText]="'A: ' + (faqEntry.a | faq)"></p>
          </ion-label>
        </ion-item>
        }
      </ion-item-group>
      }
    </ion-list>
    }
  </div>
</div>
-->