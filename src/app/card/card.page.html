<ion-header>
  <app-topbar (enter)="search($event)"></app-topbar>
</ion-header>

<ion-content>
  <div class="page-container">
    @if(cardData) {
    <ion-grid>
      <ion-row>
        <ion-col [sizeXs]="12" [sizeMd]="6" [sizeLg]="4" [offsetLg]="2">
          <app-card-display class="card" [cardCode]="cardData.id" [size]="'large'"></app-card-display>
        </ion-col>

        <ion-col [sizeXs]="12" [sizeMd]="6" [sizeLg]="4">
          <ion-card class="card-info">
            <ion-card-header>
              <ion-card-title>{{ cardData.name }}</ion-card-title>
              <ion-card-subtitle>
                {{ cardData.id }}
              </ion-card-subtitle>
            </ion-card-header>

            <ion-card-content>
              <ion-list>
                @if(cardData.text) {
                <ion-item>
                  <ion-label text-wrap>
                    <div>
                      <p>{{ cardData.text }}</p>
                    </div>

                    @if(template) {
                    <br>
                    <div [innerHTML]="template"></div>
                    }
                  </ion-label>
                </ion-item>
                }

                <ion-item>
                  <ion-label text-wrap>
                    @for(tag of cardData.tags; track tag) {
                    <ion-chip color="primary" (click)="searchTag(tag)">{{ tag }}</ion-chip>
                    }
                  </ion-label>
                </ion-item>

                <ion-item [href]="metaService.getRulesByProductId(cardData.product)" target="_blank">
                  <ion-icon slot="start" name="link-outline"></ion-icon>
                  Rules
                </ion-item>
              </ion-list>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
    }
  </div>

  <app-below-the-fold></app-below-the-fold>
</ion-content>